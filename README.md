## Разработка сегмента базы данных автоматизированной системы для проведения олимпийских игр

### Описание системы

База данных предназначена для проведения одной олимпиады.

Представитель [международного олимпийского комитета](https://en.wikipedia.org/wiki/International_Olympic_Committee) (МОК) создает объекты [спорта](https://en.wikipedia.org/wiki/Olympic_sports) `sport`. У спорта есть числовой идентификатор `id` и имя `name` (например: Aquatics).

Представитель МОК создает [дисциплины](https://en.wikipedia.org/wiki/Olympic_sports#Current_and_discontinued_summer_program) `discipline`. Дисциплина **может** относится к одному из видов спорта. У дисциплины есть следующие поля:
- идентифицирующий трехбуквенный код `code` (например: SWM)
- название `name` (например: Swimming)
- название [руководящего органа](https://en.wikipedia.org/wiki/Sports_governing_body) (если есть) `governing_body` (например: World Aquatics)

Представитель МОК создает события `event`, относящиеся к одной из дисциплин. События имеют следующие поля:
- числовой идентификатор `id`
- название `name` (например: 50 metres freestyle)
- текстовое описание `description`

Представитель МОК создает объекты [национальных олимпийских комитетов](https://en.wikipedia.org/wiki/National_Olympic_Committee) (НОК) `noc`. НОК чаще всего (но не обязательно) представляет какое-либо государство. У НОК есть следующие поля:
- идентифицирующий трехбуквенный код `code` (например: FRA)
- название `name` (например: French National Olympic and Sports Committee)
- местонахождение штаб-квартиры:
	- страна `headquarter_country` (например: France)
	- город `headquarter_city` (например: Paris)

Представитель **НОК** создает карточки атлетов `athlete`, относящихся к этому НОК. Атлет имеет следующие поля:
- числовой идентификатор `id`
- `first_name` (например: Sergei)
- если есть, `middle_name`(например: Andreevich)
- `last_name` (например: Kiprin)
- дату рождения `birth_date` (например: 09.05.2002)
- страну рождения `birth_country` (например: Russian Federation)
- номер паспорта `passport_number`

Атлеты создают заявки `request`  на участие в событиях (соревнованиях). Объект `request` имеет составной первичный ключ из идентификатора атлета и идентификатора события. Представитель МОК ставит отметку о прохождении квалификации `qualified` этим атлетом для этого события. Также заявка имеет поле для вставки результатов теста на допинг `doping_control_id`.

Проверяющий от допинг-контроля по заявке проводит тест на допинг с атлетом и создает заключение `doping_control`. Проверяющий привязывает заключение к заявке. Заключение содержит следующие поля:
- числовой идентификатор `id`
- результат `result` - положительный или отрицательный
- личный числовой идентификатор проверяющего `controller_id`
- время проведения теста `taken_at`

Судья проводит соревнования по списку заявок допущенных атлетов (прошедших квалификацию и допинг-контроль). После завершения соревнования судья создает протокол соревнований, по которому создаются объекты результатов `event_result`. Результаты имеют составной первичный ключ из идентификатора атлета и идентификатора события. Также в результатах есть поля для личного числового идентификатора судьи `referee_id` и места атлета `place`. Разные соревнования могут иметь результаты в разных форматах (например время выполнения, высота прыжка, количество очков в игровых видах спорта), но все в итоге имеют таблицу мест атлетов (причем атлеты иногда могут занимать одно место), поэтому для упрощения выбран этот формат представления результатов. 

По результатам олимпиады можно получить итоговое табло для каждого события, зачет медалей для всех НОК (общий и по видам спорта), награды отдельного атлета, проверить данные о квалификации и прохождении допинга для каждого атлета.

Таким образом, в системе представлены следующие процессы:

1) Добавление страны  
2) Добавление вида спорта
3) Добавление дисциплин
4) Добавление событий (соревнований)
5) Добавление атлетов  
6) Подача заявок атлетами  
7) Отметка о квалификации спортсмена (не рассмотрена, квалифицирован, не квалифицирован)  
8) Прохождение допинг-контроля (не пройден, отрицательный результат, положительный результат)  
9) Фиксация результатов соревнований
